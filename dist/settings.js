(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,n=window.wp.i18n,s=window.wp.components,o=window.wp.element,a=window.wp.apiFetch;var l=e.n(a);const r=window.wp.hooks;function c(){const[e,a]=(0,o.useState)(!1),[c,i]=(0,o.useState)(!1),[g,d]=(0,o.useState)(!1),[m,b]=(0,o.useState)(generateBlocksSettings.settings);function p(e,t){let n=t;return void 0!==m[e]&&(n=m[e]),n}return(0,o.useEffect)((()=>{a(!0)}),[]),e?(0,t.createElement)(o.Fragment,null,(0,t.createElement)("div",{className:"generateblocks-settings-main"},(0,r.applyFilters)("generateblocks.dashboard.beforeSettings","",this),(0,t.createElement)(s.PanelBody,{title:(0,n.__)("Settings","generateblocks")},(0,t.createElement)("div",{className:"gblocks-dashboard-panel-row-wrapper"},(0,t.createElement)(s.PanelRow,{className:"gblocks-container-width"},(0,t.createElement)("div",{className:"gblocks-units"},"px"),(0,t.createElement)(s.TextControl,{type:"number",label:(0,n.__)("Global max-width","generateblocks"),help:generateBlocksSettings.gpContainerWidth?(0,n.__)("The global max-width is set by GeneratePress in the Customizer.","generateblocks"):(0,n.__)("The global max-width value you can use in your blocks.","generateblocks"),disabled:!!generateBlocksSettings.gpContainerWidth,value:generateBlocksSettings.gpContainerWidth||p("container_width"),onChange:e=>{b({...m,container_width:e})}}),!!generateBlocksSettings.gpContainerWidthLink&&(0,t.createElement)("a",{href:generateBlocksSettings.gpContainerWidthLink,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"12px"}},(0,n.__)("Go to option â†’","generateblocks"))),(0,t.createElement)(s.PanelRow,{className:"gblocks-css-print-method"},(0,t.createElement)(s.SelectControl,{label:(0,n.__)("CSS Print Method","generateblocks"),help:(0,n.__)("Generating your CSS in external files is better for overall performance.","generateblocks"),value:p("css_print_method"),options:[{label:(0,n.__)("External File","generateblocks"),value:"file"},{label:(0,n.__)("Inline Embedding","generateblocks"),value:"inline"}],onChange:e=>{b({...m,css_print_method:e})}})),"file"===p("css_print_method")&&(0,t.createElement)(s.PanelRow,null,(0,t.createElement)(s.BaseControl,{id:"gblocks-regenerate-css",className:"gblocks-regenerate-css",help:(0,n.__)("Force your external CSS files to regenerate next time their page is loaded.","generateblocks")},(0,t.createElement)("div",{className:"gblocks-action-button"},(0,t.createElement)(s.Button,{isSecondary:!0,onClick:e=>{d(!0);const t=e.target.nextElementSibling;l()({path:"/generateblocks/v1/regenerate_css_files",method:"POST"}).then((e=>{d(!1),t.classList.add("gblocks-action-message--show"),t.textContent=e.response,e.success&&e.response?setTimeout((function(){t.classList.remove("gblocks-action-message--show")}),3e3):t.classList.add("gblocks-action-message--error")}))}},g&&(0,t.createElement)(s.Spinner,null),!g&&(0,n.__)("Regenerate CSS Files","generateblocks")),(0,t.createElement)("span",{className:"gblocks-action-message"})))),1===generateBlocksSettings.blocksVersion&&(0,t.createElement)(s.PanelRow,null,(0,t.createElement)(s.ToggleControl,{label:(0,n.__)("Sync Responsive Previews","generateblocks"),help:(0,n.__)("Sync our responsive preview controls with the editor responsive previews.","generateblocks"),checked:p("sync_responsive_previews"),onChange:e=>{b({...m,sync_responsive_previews:e})}})),1===generateBlocksSettings.blocksVersion&&(0,t.createElement)(s.PanelRow,null,(0,t.createElement)(s.ToggleControl,{label:(0,n.__)("Disable Google Fonts","generateblocks"),help:(0,n.__)("Prevent Google Fonts from being called on your website and remove them from the font family lists.","generateblocks"),checked:p("disable_google_fonts"),onChange:e=>{b({...m,disable_google_fonts:e})}})),(0,r.applyFilters)("generateblocks.dashboard.settings","",{settings:m,setSettings:b}),(0,t.createElement)("div",{className:"gblocks-action-button"},(0,t.createElement)(s.Button,{isPrimary:!0,disabled:c,onClick:e=>function(e){i(!0);const t=e.target.nextElementSibling;l()({path:"/generateblocks/v1/settings",method:"POST",data:{settings:m}}).then((e=>{i(!1),t.classList.add("gblocks-action-message--show"),t.textContent=e.response,e.success&&e.response?setTimeout((function(){t.classList.remove("gblocks-action-message--show")}),3e3):t.classList.add("gblocks-action-message--error")}))}(e)},c&&(0,t.createElement)(s.Spinner,null),!c&&(0,n.__)("Save","generateblocks")),(0,t.createElement)("span",{className:"gblocks-action-message"})))),(0,r.applyFilters)("generateblocks.dashboard.afterSettings","",{setSettings:b,settings:m}))):(0,t.createElement)(s.Placeholder,{className:"gblocks-settings-placeholder"},(0,t.createElement)(s.Spinner,null))}window.addEventListener("DOMContentLoaded",(()=>{var e,n;e=document.getElementById("gblocks-block-default-settings"),n=(0,t.createElement)(c,null),void 0!==o.createRoot?(0,o.createRoot)(e).render(n):(0,o.render)(n,e)}))})();